{"ast":null,"code":"import _asyncToGenerator from \"D:/Home Server Projects/Angular/streamAR/streamAR/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(route, http) {\n      this.route = route;\n      this.http = http;\n    }\n\n    ngOnInit() {\n      //console.log(this.urlExists(this.webURL));\n      this.fetchDataFromURL(); //console.log(this.webURL.url);\n      //console.log(this.webURL.isAllow);\n    }\n\n    fetchDataFromURL() {\n      const url = environment.url; // Replace with your URL\n\n      this.http.get(url + \"?timestamp=\" + new Date().getTime()).subscribe(data => {\n        //console.log(data); // Handle the JSON data here\n        this.webURL = data;\n        this.redirect();\n      }, error => {\n        console.error('Error:', error); // Handle any error that occurred\n        //console.error('Error:', error); // Handle any error that occurred\n\n        this.webURL = {\n          url: \"\",\n          isAllow: false\n        };\n        this.redirect();\n      }); //return ({url:\"\",isAllow:false})\n      //this.redirect();\n    }\n\n    redirect() {\n      var _this = this;\n\n      const isReachable = require('is-reachable');\n\n      _asyncToGenerator(function* () {\n        if (yield isReachable(_this.webURL.url) && _this.webURL.isAllow == true) {\n          console.log(\"Yes\");\n          document.getElementById('mainScreen')?.setAttribute('src', _this.webURL.url);\n        } else {\n          _this.route.navigate(['/serverShutdown']);\n        }\n      })();\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.HttpClient));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 3,\n    vars: 0,\n    consts: [[\"id\", \"mainScreen\", \"src\", \"\", \"allowFullScreen\", \"true\", \"webkitallowfullscreen\", \"true\", \"mozallowfullscreen\", \"true\", \"frameborder\", \"0\", \"scrolling\", \"no\", 2, \"position\", \"fixed\", \"top\", \"0\", \"left\", \"0\", \"bottom\", \"0\", \"right\", \"0\", \"width\", \"100%\", \"height\", \"100%\", \"border\", \"none\", \"margin\", \"0\", \"padding\", \"0\", \"overflow\", \"hidden\", \"z-index\", \"999999\"], [\"id\", \"mailScreenLoader\", 1, \"loader\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"iframe\", 0);\n        i0.ɵɵtext(1, \"\\nYour browser is not supported this website\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(2, \"div\", 1);\n      }\n    },\n    styles: [\".loader[_ngcontent-%COMP%] {\\n    margin:auto;\\nborder: 16px solid #f3f3f3;\\nborder-radius: 50%;\\nborder-top: 16px solid #3498db;\\nwidth: 120px;\\nheight: 120px;\\n-webkit-animation: spin 2s linear infinite; \\nanimation: spin 2s linear infinite;\\n}\\n\\n\\n@-webkit-keyframes spin {\\n0% { -webkit-transform: rotate(0deg); }\\n100% { -webkit-transform: rotate(360deg); }\\n}\\n\\n@keyframes spin {\\n0% { transform: rotate(0deg); }\\n100% { transform: rotate(360deg); }\\n}\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}